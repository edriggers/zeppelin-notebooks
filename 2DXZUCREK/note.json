{
  "paragraphs": [
    {
      "text": "%md\n\u003clink rel\u003d\"stylesheet\" href\u003d\"https://doc.splicemachine.com/zeppelin/css/zepstyles2.css\" /\u003e\n\n# Introduction\nSplice Machine allows for the creation of custom functions and procedures that you can deploy to your database.  Once deployed, these functions and procedures can be called as needed from your SQL.  This notebook will show you how this is done.\n\n\u003cp class\u003d\"noteIcon\"\u003eWhen creating custom functions and procedures as described here, the code must be in Java.\u003c/p\u003e\n",
      "user": "anonymous",
      "dateUpdated": "2018-11-21 10:21:19.074",
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionSupport": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": {},
        "enabled": true,
        "fontSize": 9.0
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003clink rel\u003d\"stylesheet\" href\u003d\"https://doc.splicemachine.com/zeppelin/css/zepstyles2.css\" /\u003e\n\u003ch1\u003eIntroduction\u003c/h1\u003e\n\u003cp\u003eSplice Machine allows for the creation of custom functions and procedures that you can deploy to your database. Once deployed, these functions and procedures can be called as needed from your SQL. This notebook will show you how this is done.\u003c/p\u003e\n\u003cp class\u003d\"noteIcon\"\u003eWhen creating custom functions and procedures as described here, the code must be in Java.\u003c/p\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1542403025850_-533276268",
      "id": "20171130-160641_2246962",
      "dateCreated": "2018-11-16 13:17:05.000",
      "dateStarted": "2018-11-21 10:21:19.075",
      "dateFinished": "2018-11-21 10:21:19.080",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n## Your Stored Procedure Development Environment\n\nThe \"environment\" in which your stored procedure code is developed may change depending upon your need.  For example, while fleshing out the actual functionality of your custom code, we recommend that you do this on a local (standalone) Splice Machine environment.  You can either build this from our open source code, or download our ready-to-use standalone version.  You can find details on these options at https://www.splicemachine.com/get-started/ \n\nOnce you have refined your code in a local environment and it behaves to your satisfaction, you can then re-deploy the developed code to your target instance. \n\nThis notebook covers all of these steps - though as you will see, these steps occur OUTSIDE of an actual Notebook when running in a local environment.  At times you will see `\u003cyour-file-name\u003e` in the examples shown.  These should be replaced with your specific file name, etc. accordingly - including the removal of the brackets.\n",
      "user": "anonymous",
      "dateUpdated": "2018-11-16 13:17:05.000",
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": {},
        "enabled": true,
        "fontSize": 9.0
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch2\u003eYour Stored Procedure Development Environment\u003c/h2\u003e\n\u003cp\u003eThe \u0026ldquo;environment\u0026rdquo; in which your stored procedure code is developed may change depending upon your need. For example, while fleshing out the actual functionality of your custom code, we recommend that you do this on a local (standalone) Splice Machine environment. You can either build this from our open source code, or download our ready-to-use standalone version. You can find details on these options at \u003ca href\u003d\"https://www.splicemachine.com/get-started/\"\u003ehttps://www.splicemachine.com/get-started/\u003c/a\u003e \u003c/p\u003e\n\u003cp\u003eOnce you have refined your code in a local environment and it behaves to your satisfaction, you can then re-deploy the developed code to your target instance. \u003c/p\u003e\n\u003cp\u003eThis notebook covers all of these steps - though as you will see, these steps occur OUTSIDE of an actual Notebook when running in a local environment. At times you will see \u003ccode\u003e\u0026lt;your-file-name\u0026gt;\u003c/code\u003e in the examples shown. These should be replaced with your specific file name, etc. accordingly - including the removal of the brackets.\u003c/p\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1542403025851_1706738911",
      "id": "20171130-161001_579045840",
      "dateCreated": "2018-11-16 13:17:05.000",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n## Local Development of the Custom Code in an IDE\n\nWe highly recommend that the initial development of the custom code is done in your local environment (e.g. Mac or Linux).  This way you can develop and test the code in a quick cycle, testing and tuning as needed, before deploying to a full cluster.  The steps described here will be for a Mac, but the process is generally the same for Linux.\n\nUsing an Integrated Development Environment (IDE) is usually the best approach when developing code, since development is straightforward, as is the generation of the desired output - a JDK 1.8-compatible JAR file.  We\u0027ll be using IntelliJ IDEA here but again most IDE\u0027s should work as well.\n\n### Setting Up Your Project\n\nInside of IntelliJ IDEA, do the following:\n1. Select File -\u003e New -\u003e Project...\n2. Choose \"Java\" with 1.8 as the Project SDK \u003cNext\u003e\n3. Skip creating from a template unless you prefer to use one \u003cNext\u003e\n4. Give your project a name and location (such as CompanyACustom1)\n5. If desired, create a new package (File -\u003e New -\u003e Package), such as com.splicemachine.companya\n\n### Configuring to output a JAR file\n\nInside of IntelliJ IDEA, do the following:\n1. Select File -\u003e Project Structure...\n2. Select Artifacts, and hit \"+\"\n3. Choose JAR -\u003e From modules with dependencies \n3. Check \"Build on make\" and hit \u003cOK\u003e\n\n### Coding your function or procedure\n\n1. Create a file: right click on your src or package folder and select New -\u003e Java Class\n2. Paste in code like the following:\n\n```\npackage com.splicemachine.companya;\n\nimport java.sql.SQLException;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\n\n\npublic class Custom1 {\n\n\n    public static void customIncrement () throws SQLException {\n        try (Connection con \u003d DriverManager.getConnection(\"jdbc:default:connection\")) {\n\n            String incrementSQL \u003d \"update SPLICE.INCREMENTTEST set i \u003d i + 1\";\n\n            try (PreparedStatement ps \u003d con.prepareStatement(incrementSQL)) {\n                int resultSet \u003d ps.executeUpdate();\n            } catch (SQLException e) {\n                con.rollback();\n                e.printStackTrace();\n                throw e;\n            }\n        }\n    }\n}\n```\n\n### Build your JAR file\n1. Build -\u003e Artifacts... JAR\n2. Using your CLI you can navigate to where the JAR file is being created (e.g. out/artifacts/CompanyACustom1_jar/Custom1.jar)\n\nYou are now ready to deploy your JAR file to test!\n",
      "user": "anonymous",
      "dateUpdated": "2018-11-16 13:17:05.000",
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true
        },
        "colWidth": 8.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": {},
        "enabled": true,
        "fontSize": 9.0
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch2\u003eLocal Development of the Custom Code in an IDE\u003c/h2\u003e\n\u003cp\u003eWe highly recommend that the initial development of the custom code is done in your local environment (e.g. Mac or Linux). This way you can develop and test the code in a quick cycle, testing and tuning as needed, before deploying to a full cluster. The steps described here will be for a Mac, but the process is generally the same for Linux.\u003c/p\u003e\n\u003cp\u003eUsing an Integrated Development Environment (IDE) is usually the best approach when developing code, since development is straightforward, as is the generation of the desired output - a JDK 1.8-compatible JAR file. We\u0026rsquo;ll be using IntelliJ IDEA here but again most IDE\u0026rsquo;s should work as well.\u003c/p\u003e\n\u003ch3\u003eSetting Up Your Project\u003c/h3\u003e\n\u003cp\u003eInside of IntelliJ IDEA, do the following:\u003cbr/\u003e1. Select File -\u0026gt; New -\u0026gt; Project\u0026hellip;\u003cbr/\u003e2. Choose \u0026ldquo;Java\u0026rdquo; with 1.8 as the Project SDK \u003cNext\u003e\u003cbr/\u003e3. Skip creating from a template unless you prefer to use one \u003cNext\u003e\u003cbr/\u003e4. Give your project a name and location (such as CompanyACustom1)\u003cbr/\u003e5. If desired, create a new package (File -\u0026gt; New -\u0026gt; Package), such as com.splicemachine.companya\u003c/p\u003e\n\u003ch3\u003eConfiguring to output a JAR file\u003c/h3\u003e\n\u003cp\u003eInside of IntelliJ IDEA, do the following:\u003cbr/\u003e1. Select File -\u0026gt; Project Structure\u0026hellip;\u003cbr/\u003e2. Select Artifacts, and hit \u0026ldquo;+\u0026rdquo;\u003cbr/\u003e3. Choose JAR -\u0026gt; From modules with dependencies\u003cbr/\u003e3. Check \u0026ldquo;Build on make\u0026rdquo; and hit \u003cOK\u003e\u003c/p\u003e\n\u003ch3\u003eCoding your function or procedure\u003c/h3\u003e\n\u003col\u003e\n  \u003cli\u003eCreate a file: right click on your src or package folder and select New -\u0026gt; Java Class\u003c/li\u003e\n  \u003cli\u003ePaste in code like the following:\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode\u003epackage com.splicemachine.companya;\n\nimport java.sql.SQLException;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\n\n\npublic class Custom1 {\n\n\n    public static void customIncrement () throws SQLException {\n        try (Connection con \u003d DriverManager.getConnection(\u0026quot;jdbc:default:connection\u0026quot;)) {\n\n            String incrementSQL \u003d \u0026quot;update SPLICE.INCREMENTTEST set i \u003d i + 1\u0026quot;;\n\n            try (PreparedStatement ps \u003d con.prepareStatement(incrementSQL)) {\n                int resultSet \u003d ps.executeUpdate();\n            } catch (SQLException e) {\n                con.rollback();\n                e.printStackTrace();\n                throw e;\n            }\n        }\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eBuild your JAR file\u003c/h3\u003e\n\u003col\u003e\n  \u003cli\u003eBuild -\u0026gt; Artifacts\u0026hellip; JAR\u003c/li\u003e\n  \u003cli\u003eUsing your CLI you can navigate to where the JAR file is being created (e.g. out/artifacts/CompanyACustom1_jar/Custom1.jar)\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eYou are now ready to deploy your JAR file to test!\u003c/p\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1542403025852_-514042174",
      "id": "20171130-161030_1002161632",
      "dateCreated": "2018-11-16 13:17:05.000",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n## Development Guidelines\nBefore we develop the code and deploy the JAR file, it is worth going through some simple best practices:\n\n1. For code organization it is useful to use a package for the code (e.g. com.splicemachine.yourcompanyname)\n2. Notice you don\u0027t need a \"main\" code block in your class - you will be calling the class\u0027s specific method directly\n3. This example is a stored procedure, therefore it is not returning any results.  A function would require a return result\n4. You will need to ensure your method throws SQLException if SQL is being executed.  Be sure to use try/catch blocks similar to the example shown here to deal with possible run-time exceptions\n",
      "user": "anonymous",
      "dateUpdated": "2018-11-16 13:17:05.000",
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true
        },
        "colWidth": 4.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": {},
        "enabled": true,
        "fontSize": 9.0
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch2\u003eDevelopment Guidelines\u003c/h2\u003e\n\u003cp\u003eBefore we develop the code and deploy the JAR file, it is worth going through some simple best practices:\u003c/p\u003e\n\u003col\u003e\n  \u003cli\u003eFor code organization it is useful to use a package for the code (e.g. com.splicemachine.yourcompanyname)\u003c/li\u003e\n  \u003cli\u003eNotice you don\u0026rsquo;t need a \u0026ldquo;main\u0026rdquo; code block in your class - you will be calling the class\u0026rsquo;s specific method directly\u003c/li\u003e\n  \u003cli\u003eThis example is a stored procedure, therefore it is not returning any results. A function would require a return result\u003c/li\u003e\n  \u003cli\u003eYou will need to ensure your method throws SQLException if SQL is being executed. Be sure to use try/catch blocks similar to the example shown here to deal with possible run-time exceptions\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1542403025853_486197790",
      "id": "20171130-162809_2009777442",
      "dateCreated": "2018-11-16 13:17:05.000",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n## Local Deployment of the JAR file\n\nIt\u0027s now time to deploy into your development environment.  Make sure it\u0027s up and running first.  Then carefully edit and execute the commands below IN YOUR LOCAL ENVIRONMENT (not in Zeppelin) to align to your custom procedure and environment:\n\n```\nCALL SQLJ.INSTALL_JAR(\u0027\u003cyour-full-path-to\u003e/Custom1.jar\u0027, \u0027SPLICE.Custom1\u0027, 0);\nCALL SYSCS_UTIL.SYSCS_SET_GLOBAL_DATABASE_PROPERTY(\u0027derby.database.classpath\u0027, \u0027SPLICE.custom1\u0027);\nCREATE PROCEDURE SPLICE.customincrement() PARAMETER STYLE JAVA MODIFIES SQL DATA LANGUAGE JAVA DYNAMIC RESULT SETS 0 EXTERNAL NAME \u0027com.splicemachine.companya.Custom1.customIncrement\u0027;\n```\n",
      "user": "anonymous",
      "dateUpdated": "2018-11-16 13:17:05.000",
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": {},
        "enabled": true,
        "fontSize": 9.0
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch2\u003eLocal Deployment of the JAR file\u003c/h2\u003e\n\u003cp\u003eIt\u0026rsquo;s now time to deploy into your development environment. Make sure it\u0026rsquo;s up and running first. Then carefully edit and execute the commands below IN YOUR LOCAL ENVIRONMENT (not in Zeppelin) to align to your custom procedure and environment:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eCALL SQLJ.INSTALL_JAR(\u0026#39;\u0026lt;your-full-path-to\u0026gt;/Custom1.jar\u0026#39;, \u0026#39;SPLICE.Custom1\u0026#39;, 0);\nCALL SYSCS_UTIL.SYSCS_SET_GLOBAL_DATABASE_PROPERTY(\u0026#39;derby.database.classpath\u0026#39;, \u0026#39;SPLICE.custom1\u0026#39;);\nCREATE PROCEDURE SPLICE.customincrement() PARAMETER STYLE JAVA MODIFIES SQL DATA LANGUAGE JAVA DYNAMIC RESULT SETS 0 EXTERNAL NAME \u0026#39;com.splicemachine.companya.Custom1.customIncrement\u0026#39;;\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1542403025854_-100220694",
      "id": "20171201-001544_2091534540",
      "dateCreated": "2018-11-16 13:17:05.000",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n## Locally Set up and test the custom procedure\n\nFirst we set up the table our stored procedure will operate on.  Again for this part we will do this IN YOUR LOCAL ENVIRONMENT:\n```\ncreate table incrementtest (i int);\ninsert into incrementtest values 1;\n```\n\nNow we can see the stored procedure in action:\n\n```\ncall customincrement();\nselect * from incrementtest;\n```\n",
      "user": "anonymous",
      "dateUpdated": "2018-11-16 13:17:05.000",
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": {},
        "enabled": true,
        "fontSize": 9.0
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch2\u003eLocally Set up and test the custom procedure\u003c/h2\u003e\n\u003cp\u003eFirst we set up the table our stored procedure will operate on. Again for this part we will do this IN YOUR LOCAL ENVIRONMENT:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ecreate table incrementtest (i int);\ninsert into incrementtest values 1;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNow we can see the stored procedure in action:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ecall customincrement();\nselect * from incrementtest;\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1542403025854_-1961098282",
      "id": "20171201-001610_1286108786",
      "dateCreated": "2018-11-16 13:17:05.000",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n## Deployment of the JAR file to your Service cluster\nOnce you have confirmed that the code works to your satisfaction, you can now take that same JAR file and deploy it to your Splice Machine cluster on the cloud.  Here are the steps we will follow:\n\n1. Copy the JAR file you already built to S3 - your Service cluster will be able to access it from here\n2. Deploy the JAR file similarly as before\n3. Test and run the custom procedure\n\nThese last two steps can now be run using a splicemachine interpreter in Zeppelin, so you should edit the recommended steps and run them as below",
      "user": "anonymous",
      "dateUpdated": "2018-11-16 13:17:05.000",
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": {},
        "enabled": true,
        "fontSize": 9.0
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch2\u003eDeployment of the JAR file to your Service cluster\u003c/h2\u003e\n\u003cp\u003eOnce you have confirmed that the code works to your satisfaction, you can now take that same JAR file and deploy it to your Splice Machine cluster on the cloud. Here are the steps we will follow:\u003c/p\u003e\n\u003col\u003e\n  \u003cli\u003eCopy the JAR file you already built to S3 - your Service cluster will be able to access it from here\u003c/li\u003e\n  \u003cli\u003eDeploy the JAR file similarly as before\u003c/li\u003e\n  \u003cli\u003eTest and run the custom procedure\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eThese last two steps can now be run using a splicemachine interpreter in Zeppelin, so you should edit the recommended steps and run them as below\u003c/p\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1542403025855_-180670343",
      "id": "20171201-010043_1902163707",
      "dateCreated": "2018-11-16 13:17:05.000",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n### Copy the JAR file to S3\n\nFirst make sure the `aws` command tool installed in the local environment where you have your JAR file.  If not, see http://docs.aws.amazon.com/cli/latest/userguide/installing.html\n\nOnce `aws` is installed, you can run the following commands in your local environment:\n\n```\naws s3 cp \u003cyour-file-name\u003e s3://\u003cyour-bucket-name\u003e/\u003cyour-JAR-file-name\u003e\naws s3api put-object-acl --bucket \u003cyour-bucket-name\u003e --grant-read emailAddress\u003d\"dbaas@splicemachine.com\"  --key\u003d\u003cyour-JAR-file-name\u003e --region us-east-1\n```",
      "user": "anonymous",
      "dateUpdated": "2018-11-16 13:17:05.000",
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": {},
        "enabled": true,
        "fontSize": 9.0
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eCopy the JAR file to S3\u003c/h3\u003e\n\u003cp\u003eFirst make sure the \u003ccode\u003eaws\u003c/code\u003e command tool installed in the local environment where you have your JAR file. If not, see \u003ca href\u003d\"http://docs.aws.amazon.com/cli/latest/userguide/installing.html\"\u003ehttp://docs.aws.amazon.com/cli/latest/userguide/installing.html\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eOnce \u003ccode\u003eaws\u003c/code\u003e is installed, you can run the following commands in your local environment:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eaws s3 cp \u0026lt;your-file-name\u0026gt; s3://\u0026lt;your-bucket-name\u0026gt;/\u0026lt;your-JAR-file-name\u0026gt;\naws s3api put-object-acl --bucket \u0026lt;your-bucket-name\u0026gt; --grant-read emailAddress\u003d\u0026quot;dbaas@splicemachine.com\u0026quot;  --key\u003d\u0026lt;your-JAR-file-name\u0026gt; --region us-east-1\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1542403025856_-1015028709",
      "id": "20171203-152143_1212910590",
      "dateCreated": "2018-11-16 13:17:05.000",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n### Set up the custom procedure on your Service cluster",
      "user": "anonymous",
      "dateUpdated": "2018-11-16 13:17:05.000",
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": {},
        "enabled": true,
        "fontSize": 9.0
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eSet up the custom procedure on your Service cluster\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1542403025856_1288908166",
      "id": "20171203-005131_1351460397",
      "dateCreated": "2018-11-16 13:17:05.000",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%splicemachine\n-- installing the jar and defining the procedure\n-- edit these steps for your environment\nCALL SQLJ.INSTALL_JAR(\u0027S3://\u003cyour-bucket-name\u003e/\u003cyour-jar-file-name\u003e\u0027, \u0027SPLICE.Custom1\u0027, 0);\nCALL SYSCS_UTIL.SYSCS_SET_GLOBAL_DATABASE_PROPERTY(\u0027derby.database.classpath\u0027, \u0027SPLICE.custom1\u0027);\nCREATE PROCEDURE SPLICE.customincrement() PARAMETER STYLE JAVA MODIFIES SQL DATA LANGUAGE JAVA DYNAMIC RESULT SETS 0 EXTERNAL NAME \u0027com.splicemachine.companya.Custom1.customIncrement\u0027;",
      "user": "anonymous",
      "dateUpdated": "2018-11-16 13:17:05.000",
      "config": {
        "tableHide": true,
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionKey": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/sql",
        "editorHide": false,
        "results": {},
        "enabled": true,
        "fontSize": 9.0
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1542403025857_2116954641",
      "id": "20171203-005159_1258738745",
      "dateCreated": "2018-11-16 13:17:05.000",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n### Run the stored procedure on your Service cluster",
      "user": "anonymous",
      "dateUpdated": "2018-11-16 13:17:05.000",
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": {},
        "enabled": true,
        "fontSize": 9.0
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch3\u003eRun the stored procedure on your Service cluster\u003c/h3\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1542403025857_-1789314640",
      "id": "20171203-152015_779093141",
      "dateCreated": "2018-11-16 13:17:05.000",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%splicemachine\ncreate table incrementtest (i int);\ninsert into incremenenttest values 1;\ncall customincrement();\nselect * from incrementtest;",
      "user": "anonymous",
      "dateUpdated": "2018-11-16 13:17:05.000",
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionKey": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/sql",
        "editorHide": false,
        "results": {},
        "enabled": true,
        "fontSize": 9.0
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1542403025858_-428486234",
      "id": "20171203-152351_950299020",
      "dateCreated": "2018-11-16 13:17:05.000",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n## Where to Go Next\nCongratulations! You\u0027ve just completed the *Splice Machine Administrator\u0027s Class*. \n\nVisit [*Our Training Courses*](/#/notebook/2DWTR5ZBH) notebook learn about our other training classes.\n",
      "user": "anonymous",
      "dateUpdated": "2018-11-29 18:15:20.503",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch2\u003eWhere to Go Next\u003c/h2\u003e\n\u003cp\u003eCongratulations! You\u0026rsquo;ve just completed the \u003cem\u003eSplice Machine Administrator\u0026rsquo;s Class\u003c/em\u003e. \u003c/p\u003e\n\u003cp\u003eVisit \u003ca href\u003d\"/#/notebook/2DWTR5ZBH\"\u003e\u003cem\u003eOur Training Courses\u003c/em\u003e\u003c/a\u003e notebook learn about our other training classes.\u003c/p\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1542738021380_905658858",
      "id": "20181120-102021_863876507",
      "dateCreated": "2018-11-20 10:20:21.380",
      "dateStarted": "2018-11-29 18:15:20.504",
      "dateFinished": "2018-11-29 18:15:20.514",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n",
      "user": "anonymous",
      "dateUpdated": "2018-11-20 10:20:44.938",
      "config": {},
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1542738044937_1869814146",
      "id": "20181120-102044_77386856",
      "dateCreated": "2018-11-20 10:20:44.937",
      "status": "READY",
      "progressUpdateIntervalMs": 500
    }
  ],
  "name": "Splice Machine Training/For Administrators/i. Creating Custom Stored Procedures",
  "id": "2DXZUCREK",
  "noteParams": {},
  "noteForms": {},
  "angularObjects": {
    "md:shared_process": []
  },
  "config": {
    "isZeppelinNotebookCronEnable": false,
    "looknfeel": "default",
    "personalizedMode": "false"
  },
  "info": {}
}