{
  "paragraphs": [
    {
      "text": "%md\n\u003clink rel\u003d\"stylesheet\" href\u003d\"https://doc.splicemachine.com/zeppelin/css/zepstyles2.css\" /\u003e\n\n# Useful Database Utilities\n\nThis notebook describes a number of utilities that you may find useful. We\u0027ll expand this list over time.\n\nAll you need to do is click \u003cimg class\u003d\"inline\" src\u003d\"https://doc.splicemachine.com/zeppelin/images/zepPlayIcon.png\" alt\u003d\"Run Zep Paragraph Icon\"\u003e to run each paragraph and see the results.",
      "user": "anonymous",
      "dateUpdated": "2018-12-06 22:31:01.011",
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionSupport": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": {},
        "enabled": false,
        "fontSize": 9.0
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003clink rel\u003d\"stylesheet\" href\u003d\"https://doc.splicemachine.com/zeppelin/css/zepstyles2.css\" /\u003e\n\u003ch1\u003eUseful Database Utilities\u003c/h1\u003e\n\u003cp\u003eThis notebook describes a number of utilities that you may find useful. We\u0026rsquo;ll expand this list over time.\u003c/p\u003e\n\u003cp\u003eAll you need to do is click \u003cimg class\u003d\"inline\" src\u003d\"https://doc.splicemachine.com/zeppelin/images/zepPlayIcon.png\" alt\u003d\"Run Zep Paragraph Icon\"\u003e to run each paragraph and see the results.\u003c/p\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1542394892708_1482012156",
      "id": "20170917-165934_1261053428",
      "dateCreated": "2018-11-16 11:01:32.000",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "Display your Splice Machine Version Information",
      "text": "%splicemachine\n\ncall SYSCS_UTIL.SYSCS_GET_VERSION_INFO();",
      "user": "anonymous",
      "dateUpdated": "2018-12-06 22:30:20.530",
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/text",
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 104.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "HOSTNAME": "string",
                      "RELEASE": "string",
                      "IMPLEMENTATION_VERSION": "string",
                      "BUILD_TIME": "string",
                      "URL": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true,
        "fontSize": 9.0,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1542394892708_394384365",
      "id": "20170424-135902_1116885980",
      "dateCreated": "2018-11-16 11:01:32.000",
      "status": "FINISHED",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "List the Schemas in Your Database",
      "text": "%splicemachine\nselect schemaname from sys.sysschemas;",
      "user": "anonymous",
      "dateUpdated": "2018-12-06 22:30:28.774",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {
                    "columns": [
                      {
                        "name": "SCHEMANAME",
                        "visible": true,
                        "width": "*",
                        "sort": {
                          "priority": 0.0,
                          "direction": "asc"
                        },
                        "filters": [
                          {}
                        ],
                        "pinned": ""
                      }
                    ],
                    "scrollFocus": {},
                    "selection": [],
                    "grouping": {
                      "grouping": [],
                      "aggregations": [],
                      "rowExpandedStates": {}
                    },
                    "treeView": {},
                    "pagination": {
                      "paginationCurrentPage": 1.0,
                      "paginationPageSize": 250.0
                    }
                  },
                  "tableColumnTypeState": {
                    "names": {
                      "SCHEMANAME": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sql",
        "title": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1544134270341_-614588702",
      "id": "20181206-221110_733848045",
      "dateCreated": "2018-12-06 22:11:10.341",
      "status": "FINISHED",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "List the Tables in Your Database",
      "text": "%splicemachine\n\nselect t.TABLENAME, s.SCHEMANAME from SYS.SYSTABLES t, SYS.SYSSCHEMAS s where t.SCHEMAID \u003d s.SCHEMAID;",
      "user": "anonymous",
      "dateUpdated": "2018-12-06 22:30:34.981",
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/text",
        "editorHide": false,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "TABLENAME": "string",
                      "SCHEMANAME": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true,
        "fontSize": 9.0,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1542394892709_-1175510987",
      "id": "20170424-135930_879534749",
      "dateCreated": "2018-11-16 11:01:32.000",
      "status": "FINISHED",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "List the Indexes in Your Database",
      "text": "%splicemachine\nSELECT \n\t\t   S.SCHEMANAME AS TABLE_SCHEM, \n\t\t   T.TABLENAME AS TABLE_NAME, \n\t\t   (CASE WHEN CONGLOMS.DESCRIPTOR.isUnique() THEN FALSE ELSE TRUE END) AS NON_UNIQUE, \n\t\t   CONGLOMS.CONGLOMERATENAME AS INDEX_NAME, \n\t\t   CAST (CONGLOMS.DESCRIPTOR.getKeyColumnPosition(COLS.COLUMNNUMBER) AS SMALLINT) AS ORDINAL_POSITION, \n\t\t   COLS.COLUMNNAME AS COLUMN_NAME, \n\t\t   CASE WHEN CONGLOMS.DESCRIPTOR.isAscending( \n\t\t\t\tCONGLOMS.DESCRIPTOR.getKeyColumnPosition(COLS.COLUMNNUMBER)) THEN \u0027A\u0027 ELSE \u0027D\u0027 END AS ASC_OR_DESC, \n\t\t   CONGLOMS.CONGLOMERATENUMBER AS CONGLOM_NO \n\tFROM \n\t\t\t SYS.SYSCOLUMNS COLS\n\t\t\t,SYS.SYSTABLES T \n\t\t\t,SYS.SYSCONGLOMERATES CONGLOMS \n\t\t\t,SYS.SYSSCHEMAS S \n\tWHERE T.TABLEID \u003d CONGLOMS.TABLEID AND T.TABLEID \u003d COLS.REFERENCEID \n\t  AND T.SCHEMAID \u003d S.SCHEMAID \n\t  AND CONGLOMS.ISINDEX \n\t  AND (CASE WHEN CONGLOMS.DESCRIPTOR IS NOT NULL THEN \n\t\t\t\tCONGLOMS.DESCRIPTOR.getKeyColumnPosition(COLS.COLUMNNUMBER) ELSE \n\t\t\t\t0 END) \u003c\u003e 0  \n\tORDER BY TABLE_SCHEM, TABLE_NAME, INDEX_NAME, ORDINAL_POSITION",
      "user": "anonymous",
      "dateUpdated": "2018-12-06 22:30:42.663",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "TABLE_SCHEM": "string",
                      "TABLE_NAME": "string",
                      "NON_UNIQUE": "string",
                      "INDEX_NAME": "string",
                      "ORDINAL_POSITION": "string",
                      "COLUMN_NAME": "string",
                      "ASC_OR_DESC": "string",
                      "CONGLOM_NO": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sql",
        "title": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1544134122330_-1720313085",
      "id": "20181206-220842_798160735",
      "dateCreated": "2018-12-06 22:08:42.333",
      "status": "FINISHED",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "List the Primary Keys in Your Database",
      "text": "%splicemachine\nSELECT  \n\t\t   S.SCHEMANAME AS TABLE_SCHEM, T.TABLENAME AS TABLE_NAME, \n\t\t   COLS.COLUMNNAME AS COLUMN_NAME, \n\t\t   CAST (CONGLOMS.DESCRIPTOR.getKeyColumnPosition(COLS.COLUMNNUMBER) AS SMALLINT) AS KEY_SEQ\n\tFROM  \n\t\t\tSYS.SYSTABLES T \n\t\t\t, SYS.SYSSCHEMAS S \n\t\t\t, SYS.SYSCONSTRAINTS CONS \n\t\t\t, SYS.SYSPRIMARYKEYS KEYS \n\t\t\t, SYS.SYSCONGLOMERATES CONGLOMS \n\t\t\t, SYS.SYSCOLUMNS COLS \n\tWHERE \n\t\t  T.SCHEMAID \u003d S.SCHEMAID AND\t\n\t\t  T.TABLEID \u003d COLS.REFERENCEID AND T.TABLEID \u003d CONGLOMS.TABLEID AND \n\t\t  CONS.TABLEID \u003d T.TABLEID AND CONS.TYPE \u003d \u0027P\u0027 AND \n\t\t  CONS.CONSTRAINTID \u003d KEYS.CONSTRAINTID AND \n\t\t  (CASE WHEN CONGLOMS.DESCRIPTOR IS NOT NULL THEN \n\t\t\t\tCONGLOMS.DESCRIPTOR.getKeyColumnPosition(COLS.COLUMNNUMBER) ELSE \n\t\t\t\t0 END) \u003c\u003e 0 AND \n\t\t  KEYS.CONGLOMERATEID \u003d CONGLOMS.CONGLOMERATEID ",
      "user": "anonymous",
      "dateUpdated": "2018-12-06 22:41:41.041",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "TABLE_SCHEM": "string",
                      "TABLE_NAME": "string",
                      "COLUMN_NAME": "string",
                      "KEY_SEQ": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sql",
        "title": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1544135921226_1831126128",
      "id": "20181206-223841_893492919",
      "dateCreated": "2018-12-06 22:38:41.226",
      "status": "FINISHED",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "title": "List the Running Operations In Your Database (Both Control and Spark)",
      "text": "%splicemachine\ncall syscs_util.syscs_get_running_operations();",
      "user": "anonymous",
      "dateUpdated": "2018-12-06 22:30:51.077",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "UUID": "string",
                      "USER": "string",
                      "HOSTNAME": "string",
                      "SESSION": "string",
                      "SQL": "string",
                      "SUBMITTED": "string",
                      "ELAPSED": "string",
                      "ENGINE": "string",
                      "JOBTYPE": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/sql",
        "title": true,
        "tableHide": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1544134672132_-658787717",
      "id": "20181206-221752_1019755981",
      "dateCreated": "2018-12-06 22:17:52.132",
      "status": "FINISHED",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n## Where to Go Next\n\nYou\u0027re now ready to learn about the [*The Life of a Query*](/#/notebook/2DWS5FM39) in the next notebook in this class.",
      "user": "anonymous",
      "dateUpdated": "2018-12-01 04:55:56.961",
      "config": {
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "results": {},
        "enabled": false,
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "fontSize": 9.0,
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003ch2\u003eWhere to Go Next\u003c/h2\u003e\n\u003cp\u003eYou\u0026rsquo;re now ready to learn about the \u003ca href\u003d\"/#/notebook/2DWS5FM39\"\u003e\u003cem\u003eThe Life of a Query\u003c/em\u003e\u003c/a\u003e in the next notebook in this class.\u003c/p\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1542394892709_-400293355",
      "id": "20170424-140825_873746189",
      "dateCreated": "2018-11-16 11:01:32.000",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    }
  ],
  "name": "Splice Machine Training / For Developers, Part II - Intermediate / c. Useful Database Utilities",
  "id": "2DUK929SD",
  "noteParams": {},
  "noteForms": {},
  "angularObjects": {
    "md:shared_process": [],
    "splicemachine:shared_process": []
  },
  "config": {
    "isZeppelinNotebookCronEnable": false,
    "looknfeel": "default",
    "personalizedMode": "false"
  },
  "info": {}
}
