{
  "paragraphs": [
    {
      "text": "%md\n<link rel=\"stylesheet\" href=\"https://doc.splicemachine.com/zeppelin/css/zepstyles2.css\" />\n\n# Using the Database Console\n\nThis notebook introduces the Spark Database Console, which you can use to monitor Splice Machine queries that are running in Spark, in these sections:\n\n* *Accessing the Console*\n* *Basic UI Features*\n* *Running a Basic Query*\n* *Drilling Down into a Query*\n* *Parallelism and Spark*\n\n## About Spark Jobs in Splice Machine\n\nYou may recall that Splice Machine has a dual-engine architecture can run statements and queries directly in HBase (the `control` side) or in Apache Spark. You can see which engine is used (`control` or `Spark`) from examining the top line of the `explain` for a query. Fast queries that run in milliseconds are sent directly to the control engine, while larger queries processing more data go to the Spark engine.\n\nYou can use the DB Console to monitor the progress of queries that are sent to the Spark engine, including GC usage. You can also terminate queries when necessary.",
      "user": "anonymous",
      "dateUpdated": "2018-12-04 00:04:58.759",
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionSupport": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": {},
        "enabled": false,
        "fontSize": 9.0
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<div class=\"markdown-body\">\n<link rel=\"stylesheet\" href=\"https://doc.splicemachine.com/zeppelin/css/zepstyles2.css\" />\n<h1>Using the Database Console</h1>\n<p>This notebook introduces the Spark Database Console, which you can use to monitor Splice Machine queries that are running in Spark, in these sections:</p>\n<ul>\n  <li><em>Accessing the Console</em></li>\n  <li><em>Basic UI Features</em></li>\n  <li><em>Running a Basic Query</em></li>\n  <li><em>Drilling Down into a Query</em></li>\n  <li><em>Parallelism and Spark</em></li>\n</ul>\n<h2>About Spark Jobs in Splice Machine</h2>\n<p>You may recall that Splice Machine has a dual-engine architecture can run statements and queries directly in HBase (the <code>control</code> side) or in Apache Spark. You can see which engine is used (<code>control</code> or <code>Spark</code>) from examining the top line of the <code>explain</code> for a query. Fast queries that run in milliseconds are sent directly to the control engine, while larger queries processing more data go to the Spark engine.</p>\n<p>You can use the DB Console to monitor the progress of queries that are sent to the Spark engine, including GC usage. You can also terminate queries when necessary.</p>\n</div>"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1542402549801_-1780050763",
      "id": "20170917-123302_29623660",
      "dateCreated": "2018-11-16 13:09:09.000",
      "dateStarted": "2018-12-04 00:04:55.582",
      "dateFinished": "2018-12-04 00:04:55.626",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n\n## Accessing the Console\n\nYou access the Spark DB Console by opening a new browser tab, then navigating to the console's URL:\n\n* For our training classes, open a new browser tab and point at `localhost:4040`. \n* For actual clusters, the access path depends on whether you are using Splice Machine's cloud service or your own infrastructure.  See our documentation for specifics.\n\n<p class=\"noteNote\">The Spark DB Console is not accessible until you've run at least one Spark query on your cluster.</p>\n\nOnce you've started a Spark query, you'll see the DB Console ( *Spark* ) UI:\n<img class=\"fitwidth\" src=\"https://doc.splicemachine.com/zeppelin/images/zepSparkJobs.png\" alt=\"Console UI Top-Level Display\">\n\n\n<p class=\"noteIcon\">The <em>Executors</em> tab of the console does not work when running code in this class.</p>\n",
      "user": "anonymous",
      "dateUpdated": "2018-12-02 22:45:58.285",
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionSupport": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": {},
        "enabled": false,
        "fontSize": 9.0
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<div class=\"markdown-body\">\n<h2>Accessing the Console</h2>\n<p>You access the Spark DB Console by opening a new browser tab, then navigating to the console&rsquo;s URL:</p>\n<ul>\n  <li>For our training classes, open a new browser tab and point at <code>localhost:4040</code>.</li>\n  <li>For actual clusters, the access path depends on whether you are using Splice Machine&rsquo;s cloud service or your own infrastructure. See our documentation for specifics.</li>\n</ul>\n<p class=\"noteNote\">The Spark DB Console is not accessible until you've run at least one Spark query on your cluster.</p>\n<p>Once you&rsquo;ve started a Spark query, you&rsquo;ll see the DB Console ( <em>Spark</em> ) UI:<br/><img class=\"fitwidth\" src=\"https://doc.splicemachine.com/zeppelin/images/zepSparkJobs.png\" alt=\"Console UI Top-Level Display\"></p>\n<p class=\"noteIcon\">The <em>Executors</em> tab of the console does not work when running code in this class.</p>\n</div>"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1542402549802_-141162614",
      "id": "20170917-124100_1569077601",
      "dateCreated": "2018-11-16 13:09:09.000",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n## Basic UI Features\n\nBefore we use the console to examine a specific query, let's go over a few interesting notes about the DB Console:\n\n* Queries are reported as *Jobs* in the Spark UI\n* Each Job will have *Stages*\n* Each Stage will have *Tasks*\n\n### Drilling Down\n\nIn general, you can click anything that displays as a <span class=\"ConsoleLink\">blue link</span> to drill down into a more detailed view. For example,if you were  looking at the following in the Console, you could click <span class=\"ConsoleLink\">Explain</span> in the following description from the completed jobs table, which will drill down into the job details for *Job 113*:\n<img class=\"fitwidth\" src=\"https://doc.splicemachine.com/zeppelin/images/zepConsoleDrillDown.png\" alt=\"Drilling Down in the Console UI\">\n\nYou can continue to drill down from there to reveal increasing levels of detail. In the next section of this notebook, we will view job details and then drill down for an example query.\n\n### Switching Views\n\nYou can quickly switch to a different view by clicking a tab in the tab bar at the top of the console screen. The *Jobs* tab is selected in this screen shot:\n<img class=\"fitwidth\" src=\"https://doc.splicemachine.com/zeppelin/images/zepConsoleTabs.png\" alt=\"Console UI Main Tabs display\">\n\n### Hovering\n\nYou can hover the cursor over interface element links, like the <span class=\"ConsoleLink\">Event Timeline</span> drop-down in the following image, to display a screen tip for the item:\n<img class=\"fitwidth\" src=\"https://doc.splicemachine.com/zeppelin/images/zepConsoleHover.png\" alt=\"Console UI Event Timeline drop-down\">\n\nSimilarly, you can hover over the ? to display the definition for a term, like the definition of a job:\n<img class=\"fitwidth\" src=\"https://doc.splicemachine.com/zeppelin/images/zepConsoleHover2.png\" alt=\"Hovering to display term definition in the Console UI\">\n\nAnd you can hover over an event in timeline display to see summary information; for example:\n<img class=\"fitwidth\" src=\"https://doc.splicemachine.com/zeppelin/images/zepConsoleTimelineHover.png\" alt=\"Hovering over the Console UI Timeline Display\">\n",
      "user": "anonymous",
      "dateUpdated": "2018-12-01 07:30:18.930",
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionSupport": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": {},
        "enabled": false,
        "fontSize": 9.0
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<div class=\"markdown-body\">\n<h2>Basic UI Features</h2>\n<p>Before we use the console to examine a specific query, let&rsquo;s go over a few interesting notes about the DB Console:</p>\n<ul>\n  <li>Queries are reported as <em>Jobs</em> in the Spark UI</li>\n  <li>Each Job will have <em>Stages</em></li>\n  <li>Each Stage will have <em>Tasks</em></li>\n</ul>\n<h3>Drilling Down</h3>\n<p>In general, you can click anything that displays as a <span class=\"ConsoleLink\">blue link</span> to drill down into a more detailed view. For example,if you were looking at the following in the Console, you could click <span class=\"ConsoleLink\">Explain</span> in the following description from the completed jobs table, which will drill down into the job details for <em>Job 113</em>:<br/><img class=\"fitwidth\" src=\"https://doc.splicemachine.com/zeppelin/images/zepConsoleDrillDown.png\" alt=\"Drilling Down in the Console UI\"></p>\n<p>You can continue to drill down from there to reveal increasing levels of detail. In the next section of this notebook, we will view job details and then drill down for an example query.</p>\n<h3>Switching Views</h3>\n<p>You can quickly switch to a different view by clicking a tab in the tab bar at the top of the console screen. The <em>Jobs</em> tab is selected in this screen shot:<br/><img class=\"fitwidth\" src=\"https://doc.splicemachine.com/zeppelin/images/zepConsoleTabs.png\" alt=\"Console UI Main Tabs display\"></p>\n<h3>Hovering</h3>\n<p>You can hover the cursor over interface element links, like the <span class=\"ConsoleLink\">Event Timeline</span> drop-down in the following image, to display a screen tip for the item:<br/><img class=\"fitwidth\" src=\"https://doc.splicemachine.com/zeppelin/images/zepConsoleHover.png\" alt=\"Console UI Event Timeline drop-down\"></p>\n<p>Similarly, you can hover over the ? to display the definition for a term, like the definition of a job:<br/><img class=\"fitwidth\" src=\"https://doc.splicemachine.com/zeppelin/images/zepConsoleHover2.png\" alt=\"Hovering to display term definition in the Console UI\"></p>\n<p>And you can hover over an event in timeline display to see summary information; for example:<br/><img class=\"fitwidth\" src=\"https://doc.splicemachine.com/zeppelin/images/zepConsoleTimelineHover.png\" alt=\"Hovering over the Console UI Timeline Display\"></p>\n</div>"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1542402549803_779570644",
      "id": "20171017-143511_678293042",
      "dateCreated": "2018-11-16 13:09:09.000",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n\n## Running a Basic Query\n\nLet's generate an `EXPLAIN` plan for a simple query that we previously ran: `explain select count(*) from index_example`. Generate the plan by clicking <img class=\"inline\" src=\"https://doc.splicemachine.com/zeppelin/images/zepPlayIcon.png\"> in the next paragraph:\n\n",
      "user": "anonymous",
      "dateUpdated": "2018-12-01 07:30:48.191",
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionSupport": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": {},
        "enabled": false,
        "fontSize": 9.0
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<div class=\"markdown-body\">\n<h2>Running a Basic Query</h2>\n<p>Let&rsquo;s generate an <code>EXPLAIN</code> plan for a simple query that we previously ran: <code>explain select count(*) from index_example</code>. Generate the plan by clicking <img class=\"inline\" src=\"https://doc.splicemachine.com/zeppelin/images/zepPlayIcon.png\"> in the next paragraph:</p>\n</div>"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1542402549807_-610744706",
      "id": "20171017-143616_602504010",
      "dateCreated": "2018-11-16 13:09:09.000",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%splicemachine\n\nexplain select count(*) from admin.index_example",
      "user": "anonymous",
      "dateUpdated": "2018-12-03 01:29:47.442",
      "config": {
        "colWidth": 12.0,
        "editorMode": "ace/mode/sql",
        "results": {},
        "enabled": true,
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionKey": true
        },
        "fontSize": 9.0,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1542402549808_921489269",
      "id": "20170917-132020_1057477927",
      "dateCreated": "2018-11-16 13:09:09.000",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n<br />\n\nNotice the `engine=Spark` on the top line, which indicates that this query will be processed by the Spark engine.\n\nNow let's actually run the query (click <img class=\"inline\" src=\"https://doc.splicemachine.com/zeppelin/images/zepPlayIcon.png\"> in the next paragraph):",
      "user": "anonymous",
      "dateUpdated": "2018-12-01 07:30:56.962",
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": {},
        "enabled": false,
        "fontSize": 9.0
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<div class=\"markdown-body\">\n<br />\n<p>Notice the <code>engine=Spark</code> on the top line, which indicates that this query will be processed by the Spark engine.</p>\n<p>Now let&rsquo;s actually run the query (click <img class=\"inline\" src=\"https://doc.splicemachine.com/zeppelin/images/zepPlayIcon.png\"> in the next paragraph):</p>\n</div>"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1542402549808_-983994659",
      "id": "20170917-132212_1886331781",
      "dateCreated": "2018-11-16 13:09:09.000",
      "status": "FINISHED",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%splicemachine\n\nselect count(*) from admin.index_example",
      "user": "anonymous",
      "dateUpdated": "2018-12-03 01:30:39.172",
      "config": {
        "colWidth": 12.0,
        "editorMode": "ace/mode/sql",
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 84.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "1": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true,
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false
        },
        "fontSize": 9.0,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1542402549809_-1319996524",
      "id": "20170917-132246_733531409",
      "dateCreated": "2018-11-16 13:09:09.000",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n<br />\n\nNow let's use use the DB Console ( *Spark* ) UI to view the query.  You should see something like this:\n<img class=\"fitwidth\" src=\"https://doc.splicemachine.com/zeppelin/images/zepSparkJob2.png\" alt=\"Viewing a query in the console UI\">\n\nIf you got to the DB Console quickly enough after running the query, it may show as an *Active Job* instead of being a *Completed Job.*\n\n<p class=\"noteIcon\">The <em>Executors</em> tab of the console does not work when running code in this class.</p>",
      "user": "anonymous",
      "dateUpdated": "2018-12-02 22:43:30.355",
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionSupport": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": {},
        "enabled": false,
        "fontSize": 9.0
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<div class=\"markdown-body\">\n<br />\n<p>Now let&rsquo;s use use the DB Console ( <em>Spark</em> ) UI to view the query. You should see something like this:<br/><img class=\"fitwidth\" src=\"https://doc.splicemachine.com/zeppelin/images/zepSparkJob2.png\" alt=\"Viewing a query in the console UI\"></p>\n<p>If you got to the DB Console quickly enough after running the query, it may show as an <em>Active Job</em> instead of being a <em>Completed Job.</em></p>\n<p class=\"noteIcon\">The <em>Executors</em> tab of the console does not work when running code in this class.</p>\n</div>"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1542402549809_-5679196",
      "id": "20170917-132259_1390907931",
      "dateCreated": "2018-11-16 13:09:09.000",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n## Drilling Down into Our Results\n\nLet's examine the *Stages* of the *Job* we just ran by starting on the Jobs page and clicking <span class=\"ConsoleLink\">Produce Result Set</span> for the above query. You'll see the *Job Detail* display for the query:\n\n  <img class=\"fitwidth\" src=\"https://doc.splicemachine.com/zeppelin/images/zepJobDetail1.png\" alt=\"Job Detail in the Console UI\">\n\nNote that the detail includes this information:\n\n* This job has two Stages\n* Each Stage has a duration\n* Each Stage in this Job ran one Task\n\n### Viewing Job Details Graphically\n\nYou can see a graphical representation of the actual activity performed within the Job's Stages by clicking the <span class=\"ConsoleLink\">DAG Visualization</span> link above the *Completed Stages* section of the Job Details display. Here's what that looks like for our example query:\n\n  <img class=\"fitwidth\" src=\"https://doc.splicemachine.com/zeppelin/images/zepJobDetailDag.png\" alt=\"Directed Graph Visualization in the Console UI\">\n\nNote that this is essentially another view of the EXPLAIN plan for this query, with the execution flow depicted by the arrows.\n",
      "user": "anonymous",
      "dateUpdated": "2018-12-01 07:31:09.143",
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionSupport": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": {},
        "enabled": false,
        "fontSize": 9.0
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<div class=\"markdown-body\">\n<h2>Drilling Down into Our Results</h2>\n<p>Let&rsquo;s examine the <em>Stages</em> of the <em>Job</em> we just ran by starting on the Jobs page and clicking <span class=\"ConsoleLink\">Produce Result Set</span> for the above query. You&rsquo;ll see the <em>Job Detail</em> display for the query:</p>\n<p><img class=\"fitwidth\" src=\"https://doc.splicemachine.com/zeppelin/images/zepJobDetail1.png\" alt=\"Job Detail in the Console UI\"></p>\n<p>Note that the detail includes this information:</p>\n<ul>\n  <li>This job has two Stages</li>\n  <li>Each Stage has a duration</li>\n  <li>Each Stage in this Job ran one Task</li>\n</ul>\n<h3>Viewing Job Details Graphically</h3>\n<p>You can see a graphical representation of the actual activity performed within the Job&rsquo;s Stages by clicking the <span class=\"ConsoleLink\">DAG Visualization</span> link above the <em>Completed Stages</em> section of the Job Details display. Here&rsquo;s what that looks like for our example query:</p>\n<p><img class=\"fitwidth\" src=\"https://doc.splicemachine.com/zeppelin/images/zepJobDetailDag.png\" alt=\"Directed Graph Visualization in the Console UI\"></p>\n<p>Note that this is essentially another view of the EXPLAIN plan for this query, with the execution flow depicted by the arrows.</p>\n</div>"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1542402549809_-338777467",
      "id": "20171017-123420_788068928",
      "dateCreated": "2018-11-16 13:09:09.000",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n### Viewing Stage Details\n\nTo drill down into the detail of the first Stage of our query, click anywhere in the box representing the Stage (`Stage 135` in this context) in the DAG visualization. The Console displays the details of that Stage:\n\n  <img class=\"fitwidth\" src=\"https://doc.splicemachine.com/zeppelin/images/zepStageDetailDag.png\" alt=\"Viewing details of a stage in the Console UI\">\n\nThe DAG Visualization for the Stage is shown at the top of this view; you can hide the DAG by clicking the <span class=\"ConsoleLink\">DAG Visualization</span> link, or you can scroll down below the graph to see the *Summary Metrics* for the Stage:\n\n  <img class=\"fitwidth\" src=\"https://doc.splicemachine.com/zeppelin/images/zepStageDetails.png\" alt=\"Stage Details \">\n\nAt the very bottom of this view, we see *Tasks.*  These are the most basic work units in the Spark Engine. For each task you will see:\n\n* a duration\n* garbage collection time\n* other information relevant to the task activity\n\nIn the above example, we see that this Task:\n\n* performed a TableScan\n* read 1.3M rows total\n* wrote out some bytes of records for processing by the next Stage\n\n",
      "user": "anonymous",
      "dateUpdated": "2018-12-02 23:06:37.307",
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionSupport": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": {},
        "enabled": false,
        "fontSize": 9.0
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<div class=\"markdown-body\">\n<h3>Viewing Stage Details</h3>\n<p>To drill down into the detail of the first Stage of our query, click anywhere in the box representing the Stage (<code>Stage 135</code> in this context) in the DAG visualization. The Console displays the details of that Stage:</p>\n<p><img class=\"fitwidth\" src=\"https://doc.splicemachine.com/zeppelin/images/zepStageDetailDag.png\" alt=\"Viewing details of a stage in the Console UI\"></p>\n<p>The DAG Visualization for the Stage is shown at the top of this view; you can hide the DAG by clicking the <span class=\"ConsoleLink\">DAG Visualization</span> link, or you can scroll down below the graph to see the <em>Summary Metrics</em> for the Stage:</p>\n<p><img class=\"fitwidth\" src=\"https://doc.splicemachine.com/zeppelin/images/zepStageDetails.png\" alt=\"Stage Details \"></p>\n<p>At the very bottom of this view, we see <em>Tasks.</em> These are the most basic work units in the Spark Engine. For each task you will see:</p>\n<ul>\n  <li>a duration</li>\n  <li>garbage collection time</li>\n  <li>other information relevant to the task activity</li>\n</ul>\n<p>In the above example, we see that this Task:</p>\n<ul>\n  <li>performed a TableScan</li>\n  <li>read 1.3M rows total</li>\n  <li>wrote out some bytes of records for processing by the next Stage</li>\n</ul>\n</div>"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1542402549810_-1040941288",
      "id": "20170917-143720_391125668",
      "dateCreated": "2018-11-16 13:09:09.000",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n### Viewing the Event Timeline\n\nYou can get another view of the current Stage by clicking the <span class=\"ConsoleLink\">Event Timeline</span> link; the Console the displays all tasks in this stage on a timeline:\n  <img class=\"fitwidth\" src=\"https://doc.splicemachine.com/zeppelin/images/zepStageTimeline.png\" alt=\"Viewing the event timeline for a stage in the Console UI\">\n\nThis view is especially useful when a Stage has many tasks, and you want to see how many executors and how much parallelism is being achieved for this stage of the query. More on this in a moment.",
      "user": "anonymous",
      "dateUpdated": "2018-12-01 07:31:18.455",
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": {},
        "enabled": false,
        "fontSize": 9.0
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<div class=\"markdown-body\">\n<h3>Viewing the Event Timeline</h3>\n<p>You can get another view of the current Stage by clicking the <span class=\"ConsoleLink\">Event Timeline</span> link; the Console the displays all tasks in this stage on a timeline:<br/> <img class=\"fitwidth\" src=\"https://doc.splicemachine.com/zeppelin/images/zepStageTimeline.png\" alt=\"Viewing the event timeline for a stage in the Console UI\"></p>\n<p>This view is especially useful when a Stage has many tasks, and you want to see how many executors and how much parallelism is being achieved for this stage of the query. More on this in a moment.</p>\n</div>"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1542402549811_-354463866",
      "id": "20170917-144236_127668505",
      "dateCreated": "2018-11-16 13:09:09.000",
      "status": "FINISHED",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n## About Parallelism and Spark\n\nThe power of Splice Machine in performing large analytic queries quickly lies in its ability to run those queries with parallel resources.  Spark has the capability of running a number of Job/Stages/Tasks in parallel.  How much parallelism you see, and where, depends on the following:\n\n<table class=\"splicezep\">\n    <col width=\"25%\" />\n    <col />\n    <thead>\n        <tr>\n            <th>Parallelism Factor</th>\n            <th>Description</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>Active executors</td>\n            <td><p>How many executors are available to run your query?</p>\n                <p>The available executor count on your cluster depends on your configuration; in our training example we have just one, but clusters can have many executors.  Each executor is typically configured to run 4 tasks in parallel.  Therefore your maximum parallelism is typically the number of executors * 4 simultaneous tasks.  For example if your cluster had 12 executors, you can run 48 tasks in parallel across all running jobs.</p></td>\n        </tr>\n        <tr>\n            <td>Tasks per stage in one query</td>\n            <td><p>Splice Machine and Spark will dynamically split up the workload across many tasks for large data sets.</p>\n            <p>Our example data set contains only 1 million rows; as a result, our example query won't have many Tasks per Stage. With more data in your tables, you will see more tasks in parallel in a given Stage.</p>\n                </td>\n        </tr>\n        <tr>\n            <td># of Queries being run simultaneously</td>\n            <td>Spark can run queries simultaneously with available resources.</td>\n        </tr>\n    </tbody>\n</table>\n\n",
      "user": "anonymous",
      "dateUpdated": "2018-12-02 23:09:23.507",
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionSupport": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": {},
        "enabled": false,
        "fontSize": 9.0
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<div class=\"markdown-body\">\n<h2>About Parallelism and Spark</h2>\n<p>The power of Splice Machine in performing large analytic queries quickly lies in its ability to run those queries with parallel resources. Spark has the capability of running a number of Job/Stages/Tasks in parallel. How much parallelism you see, and where, depends on the following:</p>\n<table class=\"splicezep\">\n    <col width=\"25%\" />\n    <col />\n    <thead>\n        <tr>\n            <th>Parallelism Factor</th>\n            <th>Description</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>Active executors</td>\n            <td><p>How many executors are available to run your query?</p>\n                <p>The available executor count on your cluster depends on your configuration; in our training example we have just one, but clusters can have many executors.  Each executor is typically configured to run 4 tasks in parallel.  Therefore your maximum parallelism is typically the number of executors * 4 simultaneous tasks.  For example if your cluster had 12 executors, you can run 48 tasks in parallel across all running jobs.</p></td>\n        </tr>\n        <tr>\n            <td>Tasks per stage in one query</td>\n            <td><p>Splice Machine and Spark will dynamically split up the workload across many tasks for large data sets.</p>\n            <p>Our example data set contains only 1 million rows; as a result, our example query won't have many Tasks per Stage. With more data in your tables, you will see more tasks in parallel in a given Stage.</p>\n                </td>\n        </tr>\n        <tr>\n            <td># of Queries being run simultaneously</td>\n            <td>Spark can run queries simultaneously with available resources.</td>\n        </tr>\n    </tbody>\n</table>\n</div>"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1542402549811_-1159393916",
      "id": "20170917-144928_60745059",
      "dateCreated": "2018-11-16 13:09:09.000",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n## Where to Go Next\nNow, please continue on to the next notebook in this class, [*Explaining and Hinting*](/#/notebook/2DUVSWQRW), to discover more about tuning your Splice Machine queries.\n",
      "user": "anonymous",
      "dateUpdated": "2018-12-01 07:31:26.646",
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionSupport": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": {},
        "enabled": false,
        "fontSize": 9.0
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<div class=\"markdown-body\">\n<h2>Where to Go Next</h2>\n<p>Now, please continue on to the next notebook in this class, <a href=\"/#/notebook/2DUVSWQRW\"><em>Explaining and Hinting</em></a>, to discover more about tuning your Splice Machine queries.</p>\n</div>"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1542402549812_1189965804",
      "id": "20170917-145935_2044886732",
      "dateCreated": "2018-11-16 13:09:09.000",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n## For Additional Help\nAs you've seen in this notebook, the Database Console UI is extremely useful in getting a view into how well your queries are getting processed. \n\nOnce you have your data loaded at or near target scale, if you are not seeing good throughput (task activity, etc), please visit our <a href=\"https://splicemachine.slack.com/messages/splice-community/\" target=\"_blank\"><em>splice-community</em> Slack channel</a> and ask for help; if you've not already done so, you can register for this channel <a href=\"https://www.splicemachine.com/community/slack-channel-signup/\" target=\"_blank\">here.</a>\n",
      "user": "anonymous",
      "dateUpdated": "2018-12-01 07:31:32.447",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": false,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<div class=\"markdown-body\">\n<h2>For Additional Help</h2>\n<p>As you&rsquo;ve seen in this notebook, the Database Console UI is extremely useful in getting a view into how well your queries are getting processed. </p>\n<p>Once you have your data loaded at or near target scale, if you are not seeing good throughput (task activity, etc), please visit our <a href=\"https://splicemachine.slack.com/messages/splice-community/\" target=\"_blank\"><em>splice-community</em> Slack channel</a> and ask for help; if you&rsquo;ve not already done so, you can register for this channel <a href=\"https://www.splicemachine.com/community/slack-channel-signup/\" target=\"_blank\">here.</a></p>\n</div>"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1542743394707_-884152187",
      "id": "20181120-114954_1716608409",
      "dateCreated": "2018-11-20 11:49:54.707",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500
    }
  ],
  "name": "Splice Machine Training/For DBAs/d. Using the Database Console",
  "id": "2DXU61KR1",
  "noteParams": {},
  "noteForms": {},
  "angularObjects": {
    "md:shared_process": [],
    "splicemachine:shared_process": [],
    "spark:shared_process": []
  },
  "config": {
    "isZeppelinNotebookCronEnable": false,
    "looknfeel": "default",
    "personalizedMode": "false"
  },
  "info": {}
}