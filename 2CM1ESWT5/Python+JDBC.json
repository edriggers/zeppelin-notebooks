{
  "paragraphs": [
    {
      "text": "%md\n<link rel=\"stylesheet\" href=\"https://doc.splicemachine.com/zeppelin/css/zepstyles.css\" />\n\n# Python and JDBC\nIn this tutorial, we will walk through setting up Python with Spark\n\n## What is Python?\nPython is a high level interpreted language great for data analysis and visualization. \n\n### Python has some great advantages\nPython is known for having a very simple syntax which makes rapid prototyping and deployment a breeze. Additionally, Python comes with some great libraries to help you get started with many different types of projects.\n\n## Connect to Splice Machine's JDBC with Python\nIn this tutorial, I am going to show you how to connect to our JDBC server using Python and create a few simple visualizations using real-world datasets",
      "user": "anonymous",
      "dateUpdated": "2017-06-26T17:05:01-0500",
      "config": {
        "colWidth": 12,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<div class=\"markdown-body\">\n<h1>Python and JDBC</h1>\n<p>In this tutorial, we will walk through setting up Python with Spark</p>\n<h2>What is Python?</h2>\n<p>Python is a high level interpreted language great for data analysis and visualization. </p>\n<h3>Python has some great advantages</h3>\n<p>Python is known for having a very simple syntax which makes rapid prototyping and deployment a breeze. Additionally, Python comes with some great libraries to help you get started with many different types of projects.</p>\n<h2>Connect to Splice Machine&rsquo;s JDBC with Python</h2>\n<p>In this tutorial, I am going to show you how to connect to our JDBC server using Python and create a few simple visualizations using real-world datasets</p>\n</div>"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1498057950744_2072714267",
      "id": "20170621-101230_695262303",
      "dateCreated": "2017-06-21T10:12:30-0500",
      "dateStarted": "2017-06-26T17:05:01-0500",
      "dateFinished": "2017-06-26T17:05:01-0500",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500,
      "focus": true,
      "$$hashKey": "object:8815"
    },
    {
      "text": "%md\n# JayDeBeApi\n[JayDeBeApi](https://pypi.python.org/pypi/JayDeBeApi/) is a great Python library (among hundreds of others) that helps you connect to any online database (such as Splice Machine!) to import and begin using JayDeBeApi, you will first need to install it on your computer. In terminal, run the following command:\n`$pip install jaydebeapi`\nThat's it! You can now connect use JayDeBeApi to connect to Splice Machine\n\nLet's show that in action and grab some sample data from the SYS schema (you can run any of these live code paragraphs with 'Shift+Enter'):",
      "user": "anonymous",
      "dateUpdated": "2017-06-27T14:53:06-0500",
      "config": {
        "colWidth": 12,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<div class=\"markdown-body\">\n<h1>JayDeBeApi</h1>\n<p><a href=\"https://pypi.python.org/pypi/JayDeBeApi/\">JayDeBeApi</a> is a great Python library (among hundreds of others) that helps you connect to any online database (such as Splice Machine!) to import and begin using JayDeBeApi, you will first need to install it on your computer. In terminal, run the following command:<br/><code>$pip install jaydebeapi</code><br/>That&rsquo;s it! You can now connect use JayDeBeApi to connect to Splice Machine</p>\n<p>Let&rsquo;s show that in action and grab some sample data from the SYS schema (you can run any of these live code paragraphs with &lsquo;Shift+Enter&rsquo;):</p>\n</div>"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1498510945301_1576354836",
      "id": "20170626-160225_1123197058",
      "dateCreated": "2017-06-26T16:02:25-0500",
      "dateStarted": "2017-06-27T14:53:06-0500",
      "dateFinished": "2017-06-27T14:53:07-0500",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500,
      "$$hashKey": "object:8816"
    },
    {
      "text": "%python\nimport jaydebeapi\n\nurl = \"jdbc:splice://localhost:1527/splicedb\"\ndriver = \"com.splicemachine.db.jdbc.ClientDriver\"\n\nconn = jaydebeapi.connect(driver, url, {'user': \"splice\", 'password': \"admin\"}, \"/Users/benepstein/Documents/GitHub/splice-zeppelin/target/zeppelin-0.7.1-bin-all/interpreter/python/db-client-2.6.0.1724-SNAPSHOT.jar\")\n\ncurs = conn.cursor()\n\ncurs.execute(\"select * from sys.systables\")\n\nallData = curs.fetchall()\n\nfor i in allData:\n    print i[1]\n \n",
      "user": "anonymous",
      "dateUpdated": "2017-06-27T14:53:15-0500",
      "config": {
        "colWidth": 12,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "SYSCONGLOMERATES\nSYSTABLES\nSYSCOLUMNS\nSYSSCHEMAS\nSYSKEYS\nSYSPRIMARYKEYS\nSYSVIEWS\nSYSCHECKS\nSYSFILES\nSYSFOREIGNKEYS\nSYSDEPENDS\nSYSCONSTRAINTS\nSYSSTATEMENTS\nSYSTRIGGERS\nSYSALIASES\nSYSTABLEPERMS\nSYSUSERS\nSYSBACKUPFILESET\nSYSBACKUP\nSYSPHYSICALSTATS\nSYSSEQUENCES\nSYSCOLPERMS\nSYSROUTINEPERMS\nSYSROLES\nSYSDUMMY1\nSYSPERMS\nSYSBACKUPJOBS\nSYSSOURCECODE\nSYSSNAPSHOTS\nSYSBACKUPITEMS\nSYSCOLUMNSTATS\nSYSSCHEMAPERMS\nSYSTABLESTATS\nSYSTABLESTATISTICS\nSYSCOLUMNSTATISTICS\nSAMPLEDATA1\nSAMPLEDATA2\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1498057957868_-385061707",
      "id": "20170621-101237_1581151098",
      "dateCreated": "2017-06-21T10:12:37-0500",
      "dateStarted": "2017-06-27T14:53:15-0500",
      "dateFinished": "2017-06-27T14:53:15-0500",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500,
      "$$hashKey": "object:8817"
    },
    {
      "text": "%md\n#### Nice! You can also interact with Splice Machine's database by inserting data. Splice Machine can read directly from s3, so we are going to insert some data for later use.\n",
      "user": "anonymous",
      "dateUpdated": "2017-06-27T12:47:48-0500",
      "config": {
        "colWidth": 12,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<div class=\"markdown-body\">\n<h4>Nice! You can also interact with Splice Machine&rsquo;s database by inserting data. Splice Machine can read directly from s3, so we are going to insert some data for later use.</h4>\n</div>"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1498585594820_1529131797",
      "id": "20170627-124634_77455674",
      "dateCreated": "2017-06-27T12:46:34-0500",
      "dateStarted": "2017-06-27T12:47:48-0500",
      "dateFinished": "2017-06-27T12:47:49-0500",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500,
      "$$hashKey": "object:8818"
    },
    {
      "text": "%python\ndataset1 = 's3a://sample-schemas/zeppelin/us_income.csv'\ndataset2 = 's3a://sample-schemas/zeppelin/state_incomes.csv'\n\ncurs.execute('DROP TABLE IF EXISTS PYTHON_EX.SAMPLEDATA1')\ncurs.execute('DROP TABLE IF EXISTS PYTHON_EX.SAMPLEDATA2')\n\n# curs.execute('DROP SCHEMA PYTHON_EX RESTRICT')\n# curs.execute('CREATE SCHEMA PYTHON_EX')\n# s3a://AKIAI7I3322RMZIKJKIQ:E/Y3grHwGHwwoDmYD94d0DWeX9iVr1Aser79CjFA@sample-schemas/zeppelin/us_income.csv\n\n\ncurs.execute('CREATE TABLE PYTHON_EX.SAMPLEDATA1(id INT, name VARCHAR(64), county VARCHAR(64), state_code VARCHAR(64), state VARCHAR(64), zip_codes VARCHAR(64), type VARCHAR(64), latitude DOUBLE, longitude DOUBLE, area_code VARCHAR(64), population INT, households INT, median_income INT, land_area BIGINT, water_area BIGINT, time_zone VARCHAR(64))')\n\ncurs.execute('CREATE TABLE PYTHON_EX.SAMPLEDATA2(Rank INT, State VARCHAR(64), Per_capita_income VARCHAR(64), median_income VARCHAR(64), Median_family_income VARCHAR(64), Population VARCHAR(64), Number_of_households VARCHAR(64), Number_of_families VARCHAR(64))')\n\ncurs.execute(\"call SYSCS_UTIL.IMPORT_DATA ('PYTHON_EX', 'SAMPLEDATA1', null,'/Users/benepstein/Desktop/incomes/csv/us_income.csv', ',', null, null, null, null, 2, '/tmp', true, null)\")\ncurs.execute(\"call SYSCS_UTIL.IMPORT_DATA ('PYTHON_EX', 'SAMPLEDATA2', null, '/Users/benepstein/Desktop/state_incomes.csv', ',', null, null, null, null, 2, '/tmp', true, null)\")\n\n",
      "user": "anonymous",
      "dateUpdated": "2017-06-27T15:13:00-0500",
      "config": {
        "colWidth": 12,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "jobName": "paragraph_1498585665379_87785797",
      "id": "20170627-124745_1858544220",
      "dateCreated": "2017-06-27T12:47:45-0500",
      "dateStarted": "2017-06-27T15:13:00-0500",
      "dateFinished": "2017-06-27T15:13:06-0500",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500,
      "$$hashKey": "object:8819"
    },
    {
      "text": "%md\n#### Great! Now that we are connected, let's analyze some data.\n\n# Lightning and Bokeh\nPython has many great visualization libraries, but on the top of that list are [Bokeh](http://bokeh.pydata.org/en/latest/) and [Lightning](http://lightning-viz.org/)\nThese are very well documented and supported libraries in the Python community, and you can create many amazing models using them. For some documentation and examples, check out their GitHubs:\n[Bokeh](https://github.com/bokeh/bokeh)\n[Lightning](http://lightning-viz.org/)\n\n## Installation\nBefore installing Bokeh and Lightning, you must have [Python](https://www.python.org/downloads/release/python-2713/) installed and the Anaconda package installer on your computer. Anaconda is a very simple installation, with instructions [here](https://www.digitalocean.com/community/tutorials/how-to-install-the-anaconda-python-distribution-on-ubuntu-16-04)\n\nNow that you have Anaconda, run the following commands in terminal to set up your enviornment:\n`conda install bokeh`\n`pip install lightning-python`\n`conda install numpy`\n`conda install pandas`",
      "user": "anonymous",
      "dateUpdated": "2017-06-26T16:34:49-0500",
      "config": {
        "colWidth": 12,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<div class=\"markdown-body\">\n<h4>Great! Now that we are connected, let&rsquo;s analyze some data.</h4>\n<h1>Lightning and Bokeh</h1>\n<p>Python has many great visualization libraries, but on the top of that list are <a href=\"http://bokeh.pydata.org/en/latest/\">Bokeh</a> and <a href=\"http://lightning-viz.org/\">Lightning</a><br/>These are very well documented and supported libraries in the Python community, and you can create many amazing models using them. For some documentation and examples, check out their GitHubs:<br/><a href=\"https://github.com/bokeh/bokeh\">Bokeh</a><br/><a href=\"http://lightning-viz.org/\">Lightning</a></p>\n<h2>Installation</h2>\n<p>Before installing Bokeh and Lightning, you must have <a href=\"https://www.python.org/downloads/release/python-2713/\">Python</a> installed and the Anaconda package installer on your computer. Anaconda is a very simple installation, with instructions <a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-the-anaconda-python-distribution-on-ubuntu-16-04\">here</a></p>\n<p>Now that you have Anaconda, run the following commands in terminal to set up your enviornment:<br/><code>conda install bokeh</code><br/><code>pip install lightning-python</code><br/><code>conda install numpy</code><br/><code>conda install pandas</code></p>\n</div>"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1498511343245_-45627222",
      "id": "20170626-160903_1831280594",
      "dateCreated": "2017-06-26T16:09:03-0500",
      "dateStarted": "2017-06-26T16:34:49-0500",
      "dateFinished": "2017-06-26T16:34:49-0500",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500,
      "$$hashKey": "object:8820"
    },
    {
      "text": "%md\n#### Now that we have everything ready, lets begin analyzing. First we will import our necessary libraries",
      "user": "anonymous",
      "dateUpdated": "2017-06-26T16:33:20-0500",
      "config": {
        "colWidth": 12,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<div class=\"markdown-body\">\n<h4>Now that we have everything ready, lets begin analyzing. First we will import our necessary libraries</h4>\n</div>"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1498512467023_311062891",
      "id": "20170626-162747_952440808",
      "dateCreated": "2017-06-26T16:27:47-0500",
      "dateStarted": "2017-06-26T16:33:20-0500",
      "dateFinished": "2017-06-26T16:33:20-0500",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500,
      "$$hashKey": "object:8821"
    },
    {
      "text": "%python\nimport numpy as np\nimport pandas as pd\nfrom lightning import Lightning\nimport os\nimport uuid\nfrom bokeh.plotting import figure, output_file, show",
      "user": "anonymous",
      "dateUpdated": "2017-06-27T14:41:49-0500",
      "config": {
        "colWidth": 12,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "jobName": "paragraph_1498256356237_1058057292",
      "id": "20170623-171916_259857420",
      "dateCreated": "2017-06-23T17:19:16-0500",
      "dateStarted": "2017-06-27T14:41:49-0500",
      "dateFinished": "2017-06-27T14:41:51-0500",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500,
      "$$hashKey": "object:8822"
    },
    {
      "text": "%md\n#### Great, now lets define some objects for visualization. StarsLightning and StarsBokeh will allow Zeppelin to display our visualizaitons onscreen\n",
      "user": "anonymous",
      "dateUpdated": "2017-06-26T16:33:13-0500",
      "config": {
        "colWidth": 12,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<div class=\"markdown-body\">\n<h4>Great, now lets define some objects for visualization. StarsLightning and StarsBokeh will allow Zeppelin to display our visualizaitons onscreen</h4>\n</div>"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1498512635028_-405128835",
      "id": "20170626-163035_1267884363",
      "dateCreated": "2017-06-26T16:30:35-0500",
      "dateStarted": "2017-06-26T16:33:13-0500",
      "dateFinished": "2017-06-26T16:33:13-0500",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500,
      "$$hashKey": "object:8823"
    },
    {
      "text": "%python\nclass StarsLightning (object):\n    def __init__(self, host=\"https://stars-lightning.renci.org\"):\n        self.host = host\n        self.service = Lightning(host=self.host)\n    def render (self, vis, width=400, height=300):\n        print ('\\n%html <iframe src=\"{0}/visualizations/{1}/iframe\" width=\"{2}\" height=\"{3}\" >'.format (self.host, vis.id, width, height))\n         \nstarlight = StarsLightning ()\n\nclass StarsBokeh(object):\n    def __init__(self, data_dir=\"/<data-path>/bokeh\"):\n        self.data_dir = data_dir\n    def output_file (self, file_name, title=\"Title\"):\n        output_file (os.path.join (self.data_dir, file_name), title=title)\n    def show (self, p, file_name):\n        show (p)\n        path = os.path.join (self.data_dir, file_name)\n        print (\"\\n%html {0}\".format (open(path).read ()))\n    def render (self, p, title=\"Title\"):\n        out_file = \"vis-{0}\".format (uuid.uuid1())\n        print (out_file)\n        self.output_file (out_file, title=title)\n        print (\"wrote\")\n        self.show (p, out_file)\nstarsbokeh = StarsBokeh ()\n",
      "user": "anonymous",
      "dateUpdated": "2017-06-27T15:21:09-0500",
      "config": {
        "colWidth": 12,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/python",
        "editorHide": false,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "Lightning initialized\nConnected to server at https://stars-lightning.renci.org\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1498500594866_-1299170466",
      "id": "20170626-130954_744806228",
      "dateCreated": "2017-06-26T13:09:54-0500",
      "dateStarted": "2017-06-27T15:21:09-0500",
      "dateFinished": "2017-06-27T15:21:10-0500",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500,
      "$$hashKey": "object:8824"
    },
    {
      "text": "%md\n#### Lightning has some really cool built in graph types such as circles, maps, histograms, scatter plots, and many more.\n#### Let's check out what Lightning can do with some randomly generated data",
      "user": "anonymous",
      "dateUpdated": "2017-06-27T12:44:33-0500",
      "config": {
        "colWidth": 7,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 65,
              "optionOpen": false
            }
          }
        },
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<div class=\"markdown-body\">\n<h4>Lightning has some really cool built in graph types such as circles, maps, histograms, scatter plots, and many more.</h4>\n<h4>Let&rsquo;s check out what Lightning can do with some randomly generated data</h4>\n</div>"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1498513435933_-792237135",
      "id": "20170626-164355_730170690",
      "dateCreated": "2017-06-26T16:43:55-0500",
      "dateStarted": "2017-06-26T16:45:15-0500",
      "dateFinished": "2017-06-26T16:45:15-0500",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500,
      "$$hashKey": "object:8825"
    },
    {
      "text": "%python\nfrom lightning import Lightning\nfrom numpy import random\nconnections = random.rand(50,50)\nconnections[connections<0.98] = 0\ng1 = (random.rand(50) * 3).astype('int')\ng2 = (random.rand(50) * 3).astype('int')\ngroup = [g2, g1]\nstarlight.render(starlight.service.circle (connections, group=group), width=600, height=400)\n",
      "user": "anonymous",
      "dateUpdated": "2017-06-27T15:21:13-0500",
      "config": {
        "colWidth": 6,
        "enabled": true,
        "results": {
          "1": {
            "graph": {
              "mode": "table",
              "height": 594,
              "optionOpen": false
            }
          }
        },
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "\n"
          },
          {
            "type": "HTML",
            "data": "<iframe src=\"https://stars-lightning.renci.org/visualizations/de831674-faa7-440c-9aeb-6dc90b848cc9/iframe\" width=\"600\" height=\"400\" >\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1498500581779_781166837",
      "id": "20170626-130941_625641623",
      "dateCreated": "2017-06-26T13:09:41-0500",
      "dateStarted": "2017-06-27T15:21:13-0500",
      "dateFinished": "2017-06-27T15:21:14-0500",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500,
      "$$hashKey": "object:8826"
    },
    {
      "text": "%md\n#### Pretty cool. Let's work with some real data. Here we'll build a histogram of average us salaries by county. You can see the distributions of incomes thoughout America, but with no indication of where the incomes are the highest and lowest\n",
      "user": "anonymous",
      "dateUpdated": "2017-06-27T12:43:25-0500",
      "config": {
        "colWidth": 6,
        "enabled": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300,
              "optionOpen": false
            }
          }
        },
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<div class=\"markdown-body\">\n<h4>Pretty cool. Let&rsquo;s work with some real data. Here we&rsquo;ll build a histogram of average us salaries by county. You can see the distributions of incomes thoughout America, but with no indication of where the incomes are the highest and lowest</h4>\n</div>"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1498513620945_960002946",
      "id": "20170626-164700_2046707990",
      "dateCreated": "2017-06-26T16:47:00-0500",
      "dateStarted": "2017-06-26T16:48:57-0500",
      "dateFinished": "2017-06-26T16:48:57-0500",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500,
      "$$hashKey": "object:8827"
    },
    {
      "text": "%python\ncurs.execute(\"select median_income from python_ex.sampledata1\")\ndata = curs.fetchall()\n\nmedIncomes = [ (i[0]/1000.0) for i in data ]\n\nstarlight.render(starlight.service.histogram(medIncomes), width=600, height=400)",
      "user": "anonymous",
      "dateUpdated": "2017-06-27T15:14:59-0500",
      "config": {
        "colWidth": 6,
        "enabled": true,
        "results": {
          "1": {
            "graph": {
              "mode": "table",
              "height": 394,
              "optionOpen": false
            }
          }
        },
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "\n"
          },
          {
            "type": "HTML",
            "data": "<iframe src=\"https://stars-lightning.renci.org/visualizations/bb70d41d-9824-4d8a-af74-e78f2ffb9433/iframe\" width=\"600\" height=\"400\" >\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1498501849771_-1988796502",
      "id": "20170626-133049_2139847633",
      "dateCreated": "2017-06-26T13:30:49-0500",
      "dateStarted": "2017-06-27T14:42:11-0500",
      "dateFinished": "2017-06-27T14:42:12-0500",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500,
      "$$hashKey": "object:8828"
    },
    {
      "text": "%md\n#### Not bad, but we can do better. Let's see that distribution mapped accross the country. Fortunately for us, Lightning has a US map generator. The darker the state, the higher the income.\n#### While we're at it, let's see the population distribution as well.\n",
      "user": "anonymous",
      "dateUpdated": "2017-06-26T17:04:48-0500",
      "config": {
        "colWidth": 12,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<div class=\"markdown-body\">\n<h4>Not bad, but we can do better. Let&rsquo;s see that distribution mapped accross the country. Fortunately for us, Lightning has a US map generator. The darker the state, the higher the income.</h4>\n<h4>While we&rsquo;re at it, let&rsquo;s see the population distribution as well.</h4>\n</div>"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1498513797757_-1718603049",
      "id": "20170626-164957_1353891984",
      "dateCreated": "2017-06-26T16:49:57-0500",
      "dateStarted": "2017-06-26T17:04:48-0500",
      "dateFinished": "2017-06-26T17:04:48-0500",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500,
      "$$hashKey": "object:8829"
    },
    {
      "text": "%python\nimport string\n# incomes = pd.read_csv(\"/Users/benepstein/Desktop/state_incomes.csv\")\n\ncurs.execute(\"select  median_income, population, state from python_ex.sampledata2\")\ndata = curs.fetchall()\n\nmedIncome = [ int(str(i[0]).replace('$','').replace(',','')) for i in data ]\nstates = [ str(i[2]) for i in data ]\n\nstarlight.render(starlight.service.map(states, medIncome, colormap=\"Blues\"), width=600, height=600)",
      "user": "anonymous",
      "dateUpdated": "2017-06-27T15:33:07-0500",
      "config": {
        "colWidth": 6,
        "enabled": true,
        "results": {
          "1": {
            "graph": {
              "mode": "table",
              "height": 794,
              "optionOpen": false
            }
          }
        },
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "\n"
          },
          {
            "type": "HTML",
            "data": "<iframe src=\"https://stars-lightning.renci.org/visualizations/05e4d51f-639d-43c6-8ebe-0a19d67d9b40/iframe\" width=\"600\" height=\"600\" >\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1498506038041_-1123136145",
      "id": "20170626-144038_700257814",
      "dateCreated": "2017-06-26T14:40:38-0500",
      "dateStarted": "2017-06-27T15:33:07-0500",
      "dateFinished": "2017-06-27T15:33:07-0500",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500,
      "$$hashKey": "object:8830"
    },
    {
      "text": "%python\n#Population\n\n\n\n\n\n\n\n\npopulation = [ int(str(i[1]).replace(',','')) for i in data ] \nstarlight.render(starlight.service.map(states, population, colormap=\"Oranges\"), width=600, height=600)",
      "user": "anonymous",
      "dateUpdated": "2017-06-27T15:32:53-0500",
      "config": {
        "colWidth": 6,
        "enabled": true,
        "results": {
          "1": {
            "graph": {
              "mode": "table",
              "height": 594,
              "optionOpen": false
            }
          }
        },
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false
        },
        "editorMode": "ace/mode/python"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "\n"
          },
          {
            "type": "HTML",
            "data": "<iframe src=\"https://stars-lightning.renci.org/visualizations/e2729d1a-09cc-4392-9e00-90b83c3f05ff/iframe\" width=\"600\" height=\"600\" >\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1498507146484_1835924962",
      "id": "20170626-145906_577171471",
      "dateCreated": "2017-06-26T14:59:06-0500",
      "dateStarted": "2017-06-27T15:32:53-0500",
      "dateFinished": "2017-06-27T15:32:54-0500",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500,
      "$$hashKey": "object:8831"
    },
    {
      "text": "%md\n#### I hope you enjoyed this tutorial. More information on Splice Machine [here](https://www.splicemachine.com/) and visualizations in Python [here](https://blog.modeanalytics.com/python-data-visualization-libraries/)",
      "user": "anonymous",
      "dateUpdated": "2017-06-26T17:04:39-0500",
      "config": {
        "colWidth": 12,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true
        },
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "tableHide": false
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "<div class=\"markdown-body\">\n<h4>I hope you enjoyed this tutorial. More information on Splice Machine <a href=\"https://www.splicemachine.com/\">here</a> and visualizations in Python <a href=\"https://blog.modeanalytics.com/python-data-visualization-libraries/\">here</a></h4>\n</div>"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1498508749644_-1646275115",
      "id": "20170626-152549_392888678",
      "dateCreated": "2017-06-26T15:25:49-0500",
      "dateStarted": "2017-06-26T17:04:39-0500",
      "dateFinished": "2017-06-26T17:04:39-0500",
      "status": "FINISHED",
      "progressUpdateIntervalMs": 500,
      "$$hashKey": "object:8832"
    },
    {
      "text": "%md\n",
      "user": "anonymous",
      "dateUpdated": "2017-06-26T17:04:39-0500",
      "config": {
        "colWidth": 12,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true
        },
        "editorMode": "ace/mode/markdown"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1498514679656_1677294724",
      "id": "20170626-170439_1412140939",
      "dateCreated": "2017-06-26T17:04:39-0500",
      "status": "READY",
      "progressUpdateIntervalMs": 500,
      "$$hashKey": "object:8833"
    }
  ],
  "name": "Python+JDBC",
  "id": "2CJMQPAKB",
  "angularObjects": {
    "2CJJ57RCU:shared_process": [],
    "2CN2CS55V:shared_process": [],
    "2CNN6YSYQ:shared_process": [],
    "2CJTSDSAV:shared_process": [],
    "2CN777T5E:shared_process": [],
    "2CMTDZJDV:shared_process": [],
    "2CKERQFVR:shared_process": []
  },
  "config": {
    "looknfeel": "default",
    "personalizedMode": "false"
  },
  "info": {}
}